<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>计算器</title>
<style >

#content{
	width:400px;
	height:400px;
	margin:0 auto;
	}
#tab_counter{
	width:90%;
	height:70%;
	margin:0 auto;
	border:2px solid #000;
	}
#tab_counter tr td{
	text-align:center;
	border:2px ;
	}
#tab_counter tr td input{
	width:90%;
	height:90%;
	background:#6ff;
	}
</style>
</head>

<body>
<div id="content">
 <table id="tab_counter">
 	<tr>
    	<td colspan="5" style="font-weight:bold">简易计算器</td>
    </tr>
 	<tr>
    	<td colspan="5"><input type="text" id="note" style=" font-weight:bold" /></td>
    </tr>
    <tr>
    	<td><input type="button" value="1" onclick="compute(1)" /></td>
        <td><input type="button" value="2" onclick="compute(2)"/></td>
        <td><input type="button" value="3" onclick="compute(3)"/></td>
        <td><input type="button" value="退位" onclick="cut()"/></td>
        <td><input type="button" value="归零" onclick="clear_empty()"/></td>
       
    </tr>
     <tr>
    	<td><input type="button" value="4" onclick="compute(4)"/></td>
        <td><input type="button" value="5" onclick="compute(5)"/></td>
        <td><input type="button" value="6" onclick="compute(6)"/></td>
        <td><input type="button" value="+" onclick="mark('+')"/></td>
        <td><input type="button" value="-" onclick="mark('-')"/></td>
      
    </tr>
     <tr>
    	<td><input type="button" value="7" onclick="compute(7)"/></td>
        <td><input type="button" value="8" onclick="compute(8)"/></td>
        <td><input type="button" value="9" onclick="compute(9)"/></td>
        <td><input type="button" value="*" onclick="mark('*')"/></td>
        <td><input type="button" value="/" onclick="mark('/')"/></td>
      
    </tr>
     <tr>
    	<td><input type="button" value="0" onclick="compute(0)"/></td>
        
        <td colspan="2"><input type="button" value="." onclick="dot('.')"/></td>
        <td colspan="2"><input type="button"  value="=" onclick="equal()"/></td>
        

    </tr>
 </table>
</div>
<script type="text/javascript">
	
	var nt=document.getElementById("note");
	var str="";
	//flag="0"时不可输入“+-*/”
	var flag="0";
	//dot_flag="0"时不可输入小数点
	var dot_flag="1";
	
	//输入数字
	function compute(num){
		nt.value+=num;
		str=nt.value;
		flag="1";
		}
		
	//输入符号
	function mark(m){
		if(flag=="1")
		{
			nt.value=str+m;
			str=nt.value;
			dot_flag="1";
			}
		flag="0";
		}
		
	//输入小数点
	function dot(d){
		if(dot_flag=="1")
		{
			nt.value=str+d;
			}
		dot_flag="0";
		flag="0";
		}
		
	//计算结果
	function equal(){
		if(str==""){
			nt.value="计算数不能为空";
		}
		else if(eval(nt.value)=="Infinity"){
			//alert("除数不能为0，请输入正确的数计算");
			nt.value="除数不能为0，请输入正确的数计算";
			//clear_empty();
		}
		else{
			nt.value=nt.value+"="+eval(nt.value);
			}
		}
		
	//归零
	function clear_empty(){
		nt.value="";
		str="";
		dot_flag="1";
		}
		
	//退格
	function cut(){
		var str=nt.value;
		nt.value=str.substring(0,nt.value.length-1);
		str=nt.value;
		}
		
</script>
</body>
</html>
